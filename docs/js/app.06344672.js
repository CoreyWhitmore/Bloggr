(function(t){function e(e){for(var s,r,l=e[0],n=e[1],c=e[2],m=0,u=[];m<l.length;m++)r=l[m],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&u.push(a[r][0]),a[r]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);d&&d(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],s=!0,l=1;l<o.length;l++){var n=o[l];0!==a[n]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var s={},a={app:0},i=[];function r(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=s,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(o,s,function(e){return t[e]}.bind(null,s));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=n;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0047":function(t,e,o){"use strict";var s=o("13d3"),a=o.n(s);a.a},"0274":function(t,e,o){},"13d3":function(t,e,o){},"35f2":function(t,e,o){"use strict";var s=o("0274"),a=o.n(s);a.a},"56d7":function(t,e,o){"use strict";o.r(e);var s=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("navbar"),o("router-view")],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[s("router-link",{staticClass:"navbar-brand d-flex",attrs:{to:{name:"Home"}}},[s("div",{staticClass:"d-flex flex-column align-items-center"},[s("img",{staticStyle:{transform:"rotate(-90deg)",width:"25px"},attrs:{alt:"Vue logo",src:o("cf05")}}),s("img",{staticStyle:{transform:"rotate(-90deg)",width:"25px","margin-top":"-10px"},attrs:{alt:"Vue logo",src:o("cf05")}})]),s("div",[s("h3",{staticStyle:{color:"green"}},[t._v("loggr")])])]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item",class:{active:"Home"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Home"}}},[t._v("Home")])],1),t.$auth.isAuthenticated?s("li",{staticClass:"nav-item",class:{active:"Profile"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Profile"}}},[t._v("Profile")])],1):t._e()]),s("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?s("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):s("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v("Login")])])])],1)},l=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[o("span",{staticClass:"navbar-toggler-icon"})])}],n=o("335d"),c=o("bc3a"),d=o.n(c);const m=d.a.create({baseURL:"https://cw-bloggr.herokuapp.com/api/",timeout:3e3}),u=function(t){m.defaults.headers.authorization=t},p=function(){m.defaults.headers.authorization=""};var h={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$auth.isAuthenticated&&(u(this.$auth.bearer),this.$store.dispatch("getProfile"))},async logout(){p(),await this.$auth.logout({returnTo:window.location.origin})}}},g=h,b=o("2877"),v=Object(b["a"])(g,r,l,!1,null,null,null),f=v.exports,C={name:"App",async beforeCreate(){await Object(n["c"])(),this.$auth.isAuthenticated&&(u(this.$auth.bearer),this.$store.dispatch("getProfile"))},components:{Navbar:f}},y=C,w=(o("5c0b"),Object(b["a"])(y,a,i,!1,null,null,null)),_=w.exports,x=o("8c4f"),$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col mt-3"},[o("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"CreatePost"}}},[t._v("Create Post")])],1)]),t._l(t.blogs,(function(t){return o("blog-component",{key:t.id,attrs:{blogProp:t}})}))],2)},B=[],k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"blog-component"},[o("router-link",{attrs:{to:{name:"Blog",params:{id:t.blogProp.id}}}},[o("div",{staticClass:"card text-dark"},[o("img",{staticClass:"card-img-top",attrs:{src:t.blogProp.imgUrl,alt:""}}),o("div",{staticClass:"card-body"},[o("h4",{staticClass:"card-title"},[t._v(t._s(t.blogProp.title))]),o("p",[t._v(t._s(t.blogProp.creator.name))])])])])],1)},P=[],E={name:"blog-component",props:["blogProp"]},A=E,M=Object(b["a"])(A,k,P,!1,null,null,null),O=M.exports,j={name:"home",mounted(){this.$store.dispatch("getProfile")},mounted(){this.$store.dispatch("getAllBlogs"),this.$store.dispatch("getProfile")},computed:{blogs(){return this.$store.state.blogs}},components:{blogComponent:O}},I=j,U=Object(b["a"])(I,$,B,!1,null,null,null),T=U.exports,N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"about text-center"},[o("h1",[t._v("Welcome "+t._s(t.profile.name))]),o("img",{staticClass:"rounded",attrs:{src:t.profile.picture,alt:""}}),o("p",[t._v(t._s(t.profile.email))])])},S=[],H={name:"Profile",mounted(){this.$store.dispatch("getProfile")},computed:{profile(){return this.$store.state.profile}}},D=H,L=(o("35f2"),Object(b["a"])(D,N,S,!1,null,"206bed16",null)),Y=L.exports,R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"blog"},[t.editMode?t._e():o("div",{staticClass:"card"},[o("img",{attrs:{src:t.post.imgUrl,alt:""}}),o("div",{staticClass:"card-body"},[o("h1",[t._v(t._s(t.post.title))]),o("p",[t._v("Tags: "+t._s(t.post.tags))]),o("p",[t._v("Author: "+t._s(t.post.creator.name))]),o("p",[t._v(t._s(t.post.body))]),t.isCreator?o("div",{staticClass:"d-flex justify-content-end"},[o("p",[t._v("(_"),o("i",{staticClass:"fas fa-pencil-alt",on:{click:t.toggleEdit}})]),o("p",[t._v(") (")]),o("router-link",{attrs:{to:{name:"Home"}}},[o("p",[o("i",{staticClass:"fa fa-trash text-dark",attrs:{"aria-hidden":"true"},on:{click:t.deleteBlog}}),t._v(")")])])],1):t._e()])]),t.editMode?o("div",{staticClass:"card"},[o("form",{staticClass:"form-inline d-flex flex-column",on:{submit:function(e){return e.preventDefault(),t.editBlog(e)}}},[o("div",{staticClass:"form-group d-flex flex-column"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"form-control w-100",attrs:{type:"text","aria-describedby":"helpId"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}}),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.body,expression:"post.body"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Your Text Here","aria-describedby":"helpId"},domProps:{value:t.post.body},on:{input:function(e){e.target.composing||t.$set(t.post,"body",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.post.imgUrl,expression:"post.imgUrl"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Img Url","aria-describedby":"helpId"},domProps:{value:t.post.imgUrl},on:{input:function(e){e.target.composing||t.$set(t.post,"imgUrl",e.target.value)}}}),o("div",{staticClass:"form-check"},[o("label",{staticClass:"form-check-label active",attrs:{for:"publishCheck"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.post.published,expression:"post.published"}],staticClass:"form-check-input active",attrs:{type:"checkbox",checked:"checked",value:"",id:"publishCheck"},domProps:{checked:Array.isArray(t.post.published)?t._i(t.post.published,"")>-1:t.post.published},on:{change:function(e){var o=t.post.published,s=e.target,a=!!s.checked;if(Array.isArray(o)){var i="",r=t._i(o,i);s.checked?r<0&&t.$set(t.post,"published",o.concat([i])):r>-1&&t.$set(t.post,"published",o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.post,"published",a)}}}),t._v(" Publish? ")])])]),this.post.title&&this.post.body?o("div",[o("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:t.editBlog}},[t._v("Save")]),o("button",{staticClass:"btn btn-danger",on:{click:t.cancelEdit}},[t._v("Cancel")])]):t._e()])]):t._e(),o("form",{staticClass:"form-inline d-flex flex-column",on:{submit:function(e){return e.preventDefault(),t.createComment(e)}}},[o("div",{staticClass:"form-group d-flex flex-column align-items-start w-75"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newComment.body,expression:"newComment.body"}],staticClass:"form-control w-100",attrs:{type:"text",placeholder:"Your Text Here","aria-describedby":"helpId"},domProps:{value:t.newComment.body},on:{input:function(e){e.target.composing||t.$set(t.newComment,"body",e.target.value)}}})]),this.newComment.body?o("div",[o("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Post Comment!")])]):t._e()]),t._l(t.comments,(function(t){return o("comment-component",{key:t.id,attrs:{commentProp:t}})}))],2)},q=[],z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"comment-component"},[o("div",{staticClass:"card text-dark"},[t.editMode?t._e():o("div",{staticClass:"card-body"},[o("p",[t._v(t._s(t.commentProp.creator.name))]),o("p",[t._v(t._s(this.comment.body))]),t.isCreator?o("div",{staticClass:"d-flex justify-content-end"},[o("p",[t._v("(_"),o("i",{staticClass:"fas fa-pencil-alt",on:{click:t.toggleEdit}})]),o("p",[t._v(") (")]),o("p",[o("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"},on:{click:t.deleteComment}}),t._v(")")])]):t._e()]),t.editMode?o("div",{staticClass:"card"},[o("form",{staticClass:"form-inline d-flex flex-column",on:{submit:function(e){return e.preventDefault(),t.editComment(e)}}},[o("div",{staticClass:"form-group d-flex flex-column"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment.body,expression:"comment.body"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"helpId"},domProps:{value:t.comment.body},on:{input:function(e){e.target.composing||t.$set(t.comment,"body",e.target.value)}}})]),this.comment.body?o("div",[o("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:t.editComment}},[t._v("Save")]),o("button",{staticClass:"btn btn-danger",on:{click:t.cancelEdit}},[t._v("Cancel")])]):t._e()])]):t._e()])])},J=[],V={name:"comment-component",props:["commentProp","blogIdProp"],mounted(){this.$store.dispatch("getProfile")},data(){return{editMode:!1,comment:{body:this.commentProp.body,id:this.commentProp.id,blogId:this.blogIdProp}}},computed:{isCreator(){return this.$store.state.profile.email==this.commentProp.creatorEmail}},methods:{editComment(){this.$store.dispatch("editComment",this.comment),this.toggleEdit()},toggleEdit(){this.editMode?this.editMode=!1:this.editMode=!0},cancelEdit(){this.body=this.commentProp.body,this.editMode?this.editMode=!1:this.editMode=!0},deleteComment(){this.$store.dispatch("deleteComment",this.comment.id)}}},W=V,X=Object(b["a"])(W,z,J,!1,null,null,null),F=X.exports,G={name:"blog",mounted(){this.$store.dispatch("makeActiveBlog",this.$route.params.id),this.$store.dispatch("getComments",this.$route.params.id),this.$store.dispatch("getProfile")},data(){return{editMode:!1,newComment:{body:null,blog:this.$route.params.id,creatorEmail:this.$store.state.profile.email,blogId:this.$store.state.activeBlog.id}}},computed:{post(){return this.$store.state.activeBlog},comments(){return this.$store.state.comments},blog(){return this.$store.state.activeBlog},isCreator(){return this.$store.state.profile.email==this.post.creatorEmail}},methods:{createComment(){if(this.newComment.body){let t={body:this.newComment.body,blog:this.$route.params.id,creatorEmail:this.$store.state.profile.email};this.$store.dispatch("createComment",t)}else console.log("Invalid Input: Title and Body are required fields")},toggleEdit(){this.editMode?this.editMode=!1:this.editMode=!0},cancelEdit(){this.$store.dispatch("makeActiveBlog",this.$route.params.id),this.editMode?this.editMode=!1:this.editMode=!0},editBlog(){this.$store.dispatch("editBlog",this.blog),this.toggleEdit()},deleteBlog(){this.$store.dispatch("deleteBlog",this.blog.id)}},components:{commentComponent:F}},Q=G,K=Object(b["a"])(Q,R,q,!1,null,null,null),Z=K.exports,tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"create-blog"},[o("form",{staticClass:"form-inline d-flex flex-column",on:{submit:function(e){return e.preventDefault(),t.createBlog(e)}}},[o("div",{staticClass:"form-group d-flex flex-column"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newBlog.title,expression:"newBlog.title"}],staticClass:"form-control w-100",attrs:{type:"text",placeholder:"Title","aria-describedby":"helpId"},domProps:{value:t.newBlog.title},on:{input:function(e){e.target.composing||t.$set(t.newBlog,"title",e.target.value)}}}),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newBlog.body,expression:"newBlog.body"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Your Text Here","aria-describedby":"helpId"},domProps:{value:t.newBlog.body},on:{input:function(e){e.target.composing||t.$set(t.newBlog,"body",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newBlog.imgUrl,expression:"newBlog.imgUrl"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Img Url","aria-describedby":"helpId"},domProps:{value:t.newBlog.imgUrl},on:{input:function(e){e.target.composing||t.$set(t.newBlog,"imgUrl",e.target.value)}}}),o("div",{staticClass:"form-check"},[o("label",{staticClass:"form-check-label active",attrs:{for:"publishCheck"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newBlog.published,expression:"newBlog.published"}],staticClass:"form-check-input active",attrs:{type:"checkbox",checked:"checked",value:"",id:"publishCheck"},domProps:{checked:Array.isArray(t.newBlog.published)?t._i(t.newBlog.published,"")>-1:t.newBlog.published},on:{change:function(e){var o=t.newBlog.published,s=e.target,a=!!s.checked;if(Array.isArray(o)){var i="",r=t._i(o,i);s.checked?r<0&&t.$set(t.newBlog,"published",o.concat([i])):r>-1&&t.$set(t.newBlog,"published",o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.newBlog,"published",a)}}}),t._v(" Publish? ")])])]),this.newBlog.title&&this.newBlog.body?o("div",[o("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Create Blog!")])]):t._e()])])},et=[],ot={name:"create-blog",mounted(){this.$store.dispatch("getProfile")},data(){return{newBlog:{}}},methods:{createBlog(){console.log("Creating Post"),this.newBlog.title&&this.newBlog.body?this.$store.dispatch("createBlog",this.newBlog):console.log("Invalid Input: Title and Body are required fields")}}},st=ot,at=(o("0047"),Object(b["a"])(st,tt,et,!1,null,null,null)),it=at.exports;s["a"].use(x["a"]);const rt=[{path:"/",name:"Home",component:T},{path:"/profile",name:"Profile",component:Y,beforeEnter:n["b"]},{path:"/create-post",name:"CreatePost",component:it,beforeEnter:n["b"]},{path:"/blog/:id",name:"Blog",component:Z}],lt=new x["a"]({routes:rt});var nt=lt,ct=o("2f62");s["a"].use(ct["a"]);var dt=new ct["a"].Store({state:{profile:{},blogs:[],comments:[],activeBlog:{creator:{name:""}}},mutations:{setProfile(t,e){t.profile=e},setBlogs(t,e){t.blogs=e},setActiveBlog(t,e){t.activeBlog=e},setComments(t,e){t.comments=e},addComment(t,e){console.log("index.addComment"),t.comments=[...t.comments,e]},deleteBlog(t,e){t.activeBlog=null,t.blogs.filter(t=>t.id!=e)},editComment(t,e){t.comments.filter(t=>e.id!=t.id),t.comments=[...t.comments,e]},deleteComment(t,e){t.comments.filter(t=>t.id!=e)}},actions:{async getProfile({commit:t}){try{let e=await m.get("profile");t("setProfile",e.data)}catch(e){console.error(e)}},async getAllBlogs({commit:t}){try{let e=await m.get("blogs");t("setBlogs",e.data)}catch(e){console.error(e)}},async createBlog({commit:t},e){try{let o=await m.post("blogs",e);t("setActiveBlog",o.data)}catch(o){console.error(o)}},async makeActiveBlog({commit:t},e){try{let o=await m.get("blogs/"+e);t("setActiveBlog",o.data)}catch(o){console.error(o)}},async createComment({commit:t,dispatch:e},o){try{console.log(o);await m.post("comments",o);e("getComments",o.blog)}catch(s){console.error(s)}},async getComments({commit:t,dispatch:e},o){try{let e=await m.get("blogs/"+o+"/comments");t("setComments",e.data)}catch(s){console.error(s)}},async editBlog({commit:t,dispatch:e},o){try{await m.put("blogs/"+o.id,o)}catch(s){console.error(s)}},async deleteBlog({commit:t,dispatch:e},o){try{await m.delete("blogs/"+o),t("deleteBlog",o)}catch(s){console.error(s)}},async editComment({commit:t,dispatch:e},o){await m.put("comments/"+o.id,o),t("editComment",o)},async deleteComment({commit:t,dispatch:e},o){try{await m.delete("comments/"+o),t("deleteComment",o)}catch(s){console.error(s)}}}});const mt="codeworksclassroom.auth0.com",ut="pOXw2OGv1LsYi7LEBmDF04RLkXQvldml",pt="https://codeworksclassroom.com";s["a"].use(n["a"],{domain:mt,clientId:ut,audience:pt,onRedirectCallback:t=>{nt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new s["a"]({router:nt,store:dt,render:function(t){return t(_)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";var s=o("9c0c"),a=o.n(s);a.a},"9c0c":function(t,e,o){},cf05:function(t,e,o){t.exports=o.p+"img/logo.82b9c7a5.png"}});